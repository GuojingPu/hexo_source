---
title: HTTP协议（1）
tags:
  - HTTP协议
categories: 
  - 技术
abbrlink: 62553
date: 2018-09-28 17:30:01
---

HTTP及超文本传输协议，用于在客户端和服务器之间传送数据，包括文本、图像、视频流都可以使用HTTP协议进行传输。

#### 1.1HTTP协议流程

1. 输入网址并按Enter键，比如访问：hhtp://mysite:8080/app/index.html。
2. 浏览器通过域名系统查询mysite的真实IP，比如：212.34.98.20。
3. 向服务器的8080端口发起TCP请求并建立链接。
4. 发送HTTP请求的内容，包括访问的地址/app/index.html、访问方式GET、浏览器本身的产品等。
5. 服务器返回/app/index.html中的数据，并作文Reponse发送给客户端，如果请求的不是一个文件，则服务器需要执行相应的代码，动态生成切返回给客户端。
6. 浏览器收到结果后关闭于服务器的链接。
7. 浏览器将收到的结果呈现在显示器上。

` 注意:其中1、2不是HTTP解析的一部分。`

如今的HTTP还允许客户端在一次HTTP请求之后不关闭TCP链接，以便之后第2次发送HTTP请求时复用该链接，以减少系统开销，此技术在HTTP中叫keep-alive。

#### 1.2HTTP消息结构
##### 1.Request消息结构
Request是客户端向服务器发起请求时的请求结构。

```
【请求方法】 【URL】【协议版本】
【头字段1】：值
 ...
【头字段N】：值

【消息体】
```
Request消息结构由两部分组成，消息头和消息体。消息头必须遵循上述格式，消息体则没有固定格式。消息头和消息体之间使用一行空格。


```
GET  /hello.txt HTTP/1.1
Host:www.mysite.com
Accept-Languange:en
```
上面就是一个请求头结构。

##### 1.Reponse消息结构

